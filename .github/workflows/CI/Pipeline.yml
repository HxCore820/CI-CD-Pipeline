name: CI/CD Pipeline

on:
  # Cháº¡y tá»± Ä‘á»™ng khi push code (nhÆ°ng sáº½ bá» qua bÆ°á»›c SSH)
  push:
  
  # Táº¡o nÃºt báº¥m thá»§ cÃ´ng Ä‘á»ƒ cháº¡y (DÃ¹ng Ä‘á»ƒ kÃ­ch hoáº¡t SSH)
  workflow_dispatch:
    inputs:
      debug_mode:
        description: 'Báº­t cháº¿ Ä‘á»™ Debug (SSHX)'
        required: false
        default: false
        type: boolean

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ“¥ Kiá»ƒm tra mÃ£ nguá»“n (Checkout)
        uses: actions/checkout@v3

      # ... CÃ¡c bÆ°á»›c build/test bÃ¬nh thÆ°á»ng cá»§a báº¡n á»Ÿ Ä‘Ã¢y ...
      - name: âš™ï¸ Giáº£ láº­p quÃ¡ trÃ¬nh Build (VÃ­ dá»¥)
        run: echo "Äang cháº¡y build..."

      # -----------------------------------------------------------
      # BÆ°á»›c nÃ y CHá»ˆ CHáº Y khi báº¡n áº¥n nÃºt vÃ  tÃ­ch chá»n "Báº­t cháº¿ Ä‘á»™ Debug"
      # -----------------------------------------------------------
      - name: ğŸ› ï¸ KÃ­ch hoáº¡t phiÃªn Gá»¡ lá»—i Tá»« xa (SSHX)
        if: ${{ github.event_name == 'workflow_dispatch' && inputs.debug_mode == true }}
        run: |
          echo "#######################################################"
          echo "#                                                     #"
          echo "#   TRáº NG THÃI: ÄANG CHá»œ Káº¾T Ná»I DEBUG                #"
          echo "#   HÃ nh Ä‘á»™ng: Nháº¥p vÃ o URL bÃªn dÆ°á»›i Ä‘á»ƒ má»Ÿ Terminal   #"
          echo "#   LÆ°u Ã½: PhiÃªn káº¿t ná»‘i sáº½ Ä‘Ã³ng khi job káº¿t thÃºc     #"
          echo "#                                                     #"
          echo "#######################################################"
          curl -sSf https://sshx.io/get | sh -s run
          
